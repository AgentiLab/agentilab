# AgentiLab Widget Library

## Overview

AgentiLab is a premium widget library that provides embeddable, real-time data widgets for any website. The platform offers a collection of universal widgets including population counters, weather displays, cryptocurrency tickers, AI-generated quotes, and world clocks. Users can integrate these widgets into their websites using simple HTML snippets, with all widgets featuring a consistent "Generated by AgentiLab.ai" branding.

The application is built as a full-stack TypeScript application with a React frontend and Express backend, designed to deliver real-time data visualization with a tech-premium aesthetic inspired by Linear, Vercel, and Stripe.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture

**Framework**: React 18 with TypeScript, using Vite as the build tool and development server

**UI Component System**: 
- shadcn/ui component library (New York style variant) for consistent, accessible UI components
- Radix UI primitives as the foundation for complex interactive components
- TailwindCSS for utility-first styling with custom design tokens
- Class Variance Authority (CVA) for type-safe component variants

**State Management**:
- TanStack Query (React Query) for server state management with automatic caching and refetching
- Local React state for UI interactions
- Custom context providers for theme management

**Routing**: Wouter for lightweight client-side routing

**Design System**:
- Dark mode primary with light mode support
- Custom color palette using HSL values for theme consistency
- Inter font for UI/body text, JetBrains Mono for data displays
- Mobile-first responsive design approach
- Tech-premium aesthetic with data-first clarity

### Backend Architecture

**Server Framework**: Express.js with TypeScript running on Node.js

**API Design**: RESTful endpoints serving JSON data for widget content:
- `/api/widgets/population` - Real-time population statistics
- `/api/widgets/weather` - Weather data with location-based information
- `/api/widgets/crypto` - Cryptocurrency prices and trends
- `/api/widgets/quote` - AI-generated inspirational quotes
- `/api/widgets/clock` - World clock data for multiple timezones

**Caching Strategy**: In-memory caching using a custom `MemStorage` class with TTL (time-to-live) for different data sources:
- Weather data: 5-minute cache
- Crypto data: 1-minute cache
- Population data: Real-time calculation without caching
- Quote data: Generated on demand

**Real-time Data Processing**:
- Population counter uses mathematical calculations based on birth/death rates from a reference timestamp
- Widget data refreshed at appropriate intervals based on data volatility
- Client-side interpolation for smooth counter animations

### Data Storage Solutions

**Database ORM**: Drizzle ORM configured for PostgreSQL with the Neon serverless driver

**Database Configuration**:
- Schema defined in TypeScript with Zod validation
- Migrations managed through Drizzle Kit
- Connection via DATABASE_URL environment variable
- Schema location: `./shared/schema.ts`

**Data Models**: Zod schemas define widget data structures:
- `PopulationData` - Current population, birth/death rates, timestamps
- `WeatherData` - Location, temperature, conditions, humidity
- `CryptoData` - Symbol, price, 24h changes, sparkline data
- `QuoteData` - AI-generated text, author, category
- `WorldClockData` - Timezone information and current times

### External Dependencies

**AI Services**: 
- OpenAI API integration (GPT-5) via Replit's AI Integrations service
- Used for generating inspirational quotes about AI and technology
- JSON-structured responses for consistent data format

**Third-party APIs** (inferred from service structure):
- Weather data provider (mock implementation present, ready for real API)
- Cryptocurrency price feeds (mock implementation present, ready for real API)
- Geographic/timezone data services for world clock functionality

**Build & Development Tools**:
- Vite for fast HMR and optimized production builds
- ESBuild for server-side bundling
- TypeScript compiler for type checking
- TailwindCSS with PostCSS for style processing

**Replit-specific Integrations**:
- Runtime error overlay plugin for development
- Cartographer plugin for code navigation
- Development banner for Replit environment

### Authentication and Authorization

No authentication system is currently implemented. The application serves public widgets without user accounts or API keys. All endpoints are publicly accessible.

### Deployment Architecture

**Development Mode**:
- Vite dev server with HMR for frontend
- TSX for running TypeScript server with hot reload
- Middleware-based Vite integration in Express

**Production Mode**:
- Static frontend assets built to `dist/public`
- Server bundle compiled to `dist/index.js`
- Express serves static files and API routes from single process

**Environment Configuration**:
- `NODE_ENV` for environment detection
- `DATABASE_URL` for database connection
- `AI_INTEGRATIONS_OPENAI_BASE_URL` and `AI_INTEGRATIONS_OPENAI_API_KEY` for AI services